{"remainingRequest":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvkai/Documents/GitHub/FudanRM/UI/src/components/library/ImgUpload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/src/components/library/ImgUpload.vue","mtime":1593687080787},{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdJbWdVcGxvYWQnLAogICAgZGF0YSAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZmlsZUxpc3Q6IFtdLAogICAgICAgICAgICB1cmw6ICcnCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBoYW5kbGVSZW1vdmUgKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgICAgfSwKICAgICAgICBoYW5kbGVQcmV2aWV3IChmaWxlKSB7CiAgICAgICAgfSwKICAgICAgICBoYW5kbGVFeGNlZWQgKGZpbGVzLCBmaWxlTGlzdCkgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoYOW9k+WJjemZkOWItumAieaLqSAxIOS4quaWh+S7tu+8jOacrOasoemAieaLqeS6hiAke2ZpbGVzLmxlbmd0aH0g5Liq5paH5Lu277yM5YWx6YCJ5oup5LqGICR7ZmlsZXMubGVuZ3RoICsgZmlsZUxpc3QubGVuZ3RofSDkuKrmlofku7ZgKQogICAgICAgIH0sCiAgICAgICAgYmVmb3JlUmVtb3ZlIChmaWxlLCBmaWxlTGlzdCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kY29uZmlybShg56Gu5a6a56e76ZmkICR7ZmlsZS5uYW1lfe+8n2ApCiAgICAgICAgfSwKICAgICAgICBoYW5kbGVTdWNjZXNzIChyZXNwb25zZSkgewogICAgICAgICAgICB0aGlzLnVybCA9IHJlc3BvbnNlCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ29uVXBsb2FkJykKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfkuIrkvKDmiJDlip8nKQogICAgICAgIH0sCiAgICAgICAgY2xlYXIgKCkgewogICAgICAgICAgICB0aGlzLiRyZWZzLnVwbG9hZC5jbGVhckZpbGVzKCkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["ImgUpload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImgUpload.vue","sourceRoot":"src/components/library","sourcesContent":["<template>\n    <el-upload\n            class=\"img-upload\"\n            ref=\"upload\"\n            action=\"http://localhost:8443/api/covers\"\n            :on-preview=\"handlePreview\"\n            :on-remove=\"handleRemove\"\n            :before-remove=\"beforeRemove\"\n            :on-success=\"handleSuccess\"\n            multiple\n            :limit=\"1\"\n            :on-exceed=\"handleExceed\"\n            :file-list=\"fileList\">\n        <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n        <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\n    </el-upload>\n</template>\n\n<script>\n    export default {\n        name: 'ImgUpload',\n        data () {\n            return {\n                fileList: [],\n                url: ''\n            }\n        },\n        methods: {\n            handleRemove (file, fileList) {\n            },\n            handlePreview (file) {\n            },\n            handleExceed (files, fileList) {\n                this.$message.warning(`当前限制选择 1 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`)\n            },\n            beforeRemove (file, fileList) {\n                return this.$confirm(`确定移除 ${file.name}？`)\n            },\n            handleSuccess (response) {\n                this.url = response\n                this.$emit('onUpload')\n                this.$message.warning('上传成功')\n            },\n            clear () {\n                this.$refs.upload.clearFiles()\n            }\n        }\n    }\n</script>\n\n"]}]}