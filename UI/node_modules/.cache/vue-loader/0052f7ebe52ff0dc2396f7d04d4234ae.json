{"remainingRequest":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvkai/Documents/GitHub/FudanRM/UI/src/components/library/EditForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/src/components/library/EditForm.vue","mtime":1593687997473},{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJbWdVcGxvYWQgZnJvbSAiLi9JbWdVcGxvYWQiCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdFZGl0Rm9ybScsCiAgICBjb21wb25lbnRzOiB7SW1nVXBsb2FkfSwKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgICAgICAgZm9ybTogewogICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgdGl0bGU6ICcnLAogICAgICAgICAgICAgICAgYXV0aG9yOiAnJywKICAgICAgICAgICAgICAgIGRhdGU6ICcnLAogICAgICAgICAgICAgICAgcHJlc3M6ICcnLAogICAgICAgICAgICAgICAgY292ZXI6ICcnLAogICAgICAgICAgICAgICAgYWJzOiAnJywKICAgICAgICAgICAgICAgIGNhdGVnb3J5OiB7CiAgICAgICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgICAgIG5hbWU6ICcnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZvcm1MYWJlbFdpZHRoOiAnMTIwcHgnCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBjbGVhciAoKSB7CiAgICAgICAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgIHRpdGxlOiAnJywKICAgICAgICAgICAgICAgIGF1dGhvcjogJycsCiAgICAgICAgICAgICAgICBkYXRlOiAnJywKICAgICAgICAgICAgICAgIHByZXNzOiAnJywKICAgICAgICAgICAgICAgIGNvdmVyOiAnJywKICAgICAgICAgICAgICAgIGFiczogJycsCiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJycKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgb25TdWJtaXQgKCkgewogICAgICAgICAgICB0aGlzLiRheGlvcwogICAgICAgICAgICAgICAgLnBvc3QoJy9ib29rcycsIHsKICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5mb3JtLmlkLAogICAgICAgICAgICAgICAgICAgIGNvdmVyOiB0aGlzLmZvcm0uY292ZXIsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuZm9ybS50aXRsZSwKICAgICAgICAgICAgICAgICAgICBhdXRob3I6IHRoaXMuZm9ybS5hdXRob3IsCiAgICAgICAgICAgICAgICAgICAgZGF0ZTogdGhpcy5mb3JtLmRhdGUsCiAgICAgICAgICAgICAgICAgICAgcHJlc3M6IHRoaXMuZm9ybS5wcmVzcywKICAgICAgICAgICAgICAgICAgICBhYnM6IHRoaXMuZm9ybS5hYnMsCiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuZm9ybS5jYXRlZ29yeQogICAgICAgICAgICAgICAgfSkudGhlbihyZXNwID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXNwICYmIHJlc3Auc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdvblN1Ym1pdCcpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICB1cGxvYWRJbWcgKCkgewogICAgICAgICAgICB0aGlzLmZvcm0uY292ZXIgPSB0aGlzLiRyZWZzLmltZ1VwbG9hZC51cmwKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["EditForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditForm.vue","sourceRoot":"src/components/library","sourcesContent":["<template>\n    <div>\n        <i class=\"el-icon-circle-plus-outline\"  @click=\"dialogFormVisible = true\"></i>\n        <el-dialog\n                title=\"添加/修改图书\"\n                :visible.sync=\"dialogFormVisible\"\n                @close=\"clear\">\n            <el-form v-model=\"form\" style=\"text-align: left\" ref=\"dataForm\">\n                <el-form-item label=\"书名\" :label-width=\"formLabelWidth\" prop=\"title\">\n                    <el-input v-model=\"form.title\" autocomplete=\"off\" placeholder=\"不加《》\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"作者\" :label-width=\"formLabelWidth\" prop=\"author\">\n                    <el-input v-model=\"form.author\" autocomplete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"出版日期\" :label-width=\"formLabelWidth\" prop=\"date\">\n                    <el-input v-model=\"form.date\" autocomplete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"出版社\" :label-width=\"formLabelWidth\" prop=\"press\">\n                    <el-input v-model=\"form.press\" autocomplete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"封面\" :label-width=\"formLabelWidth\" prop=\"cover\">\n                    <el-input v-model=\"form.cover\" autocomplete=\"off\" placeholder=\"图片 URL\"></el-input>\n                    <img-upload @onUpload=\"uploadImg\" ref=\"imgUpload\"></img-upload>\n                </el-form-item>\n                <el-form-item label=\"简介\" :label-width=\"formLabelWidth\" prop=\"abs\">\n                    <el-input type=\"textarea\" v-model=\"form.abs\" autocomplete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"分类\" :label-width=\"formLabelWidth\" prop=\"cid\">\n                    <el-select v-model=\"form.category.id\" placeholder=\"请选择分类\">\n                        <el-option label=\"文学\" value=\"1\"></el-option>\n                        <el-option label=\"流行\" value=\"2\"></el-option>\n                        <el-option label=\"文化\" value=\"3\"></el-option>\n                        <el-option label=\"生活\" value=\"4\"></el-option>\n                        <el-option label=\"经管\" value=\"5\"></el-option>\n                        <el-option label=\"科技\" value=\"6\"></el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item prop=\"id\" style=\"height: 0\">\n                    <el-input type=\"hidden\" v-model=\"form.id\" autocomplete=\"off\"></el-input>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"onSubmit\">确 定</el-button>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    import ImgUpload from \"./ImgUpload\"\n    export default {\n        name: 'EditForm',\n        components: {ImgUpload},\n        data () {\n            return {\n                dialogFormVisible: false,\n                form: {\n                    id: '',\n                    title: '',\n                    author: '',\n                    date: '',\n                    press: '',\n                    cover: '',\n                    abs: '',\n                    category: {\n                        id: '',\n                        name: ''\n                    }\n                },\n                formLabelWidth: '120px'\n            }\n        },\n        methods: {\n            clear () {\n                this.form = {\n                    id: '',\n                    title: '',\n                    author: '',\n                    date: '',\n                    press: '',\n                    cover: '',\n                    abs: '',\n                    category: ''\n                }\n            },\n            onSubmit () {\n                this.$axios\n                    .post('/books', {\n                        id: this.form.id,\n                        cover: this.form.cover,\n                        title: this.form.title,\n                        author: this.form.author,\n                        date: this.form.date,\n                        press: this.form.press,\n                        abs: this.form.abs,\n                        category: this.form.category\n                    }).then(resp => {\n                    if (resp && resp.status === 200) {\n                        this.dialogFormVisible = false\n                        this.$emit('onSubmit')\n                    }\n                })\n            },\n            uploadImg () {\n                this.form.cover = this.$refs.imgUpload.url\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .el-icon-circle-plus-outline {\n        margin: 50px 0 0 20px;\n        font-size: 100px;\n        float: left;\n        cursor: pointer;\n    }\n</style>\n\n\n\n"]}]}