{"remainingRequest":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvkai/Documents/GitHub/FudanRM/UI/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/src/components/Login.vue","mtime":1593683179810},{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJMb2dpbiIsCiAgICBkYXRhICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsb2dpbkZvcm06IHsKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAnJwogICAgICAgICAgICB9LAogICAgICAgICAgICByZXNwb25zZVJlc3VsdDogW10KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC8vIDEu54K55Ye755m75b2V5oyJ6ZKu77yM5ZCR5ZCO56uv5Y+R6YCB5pWw5o2uCiAgICAgICAgLy8gMi7lj5fliLDlkI7nq6/ov5Tlm57nmoTmiJDlip/ku6PnoIHml7bvvIzop6blj5Egc3RvcmUg5Lit55qEIGxvZ2luKCkg5pa55rOV77yM5oqKIGxvZ2luRm9ybSDlr7nosaHkvKDpgJLnu5kgc3RvcmUg5Lit55qEIHVzZXIg5a+56LGhCiAgICAgICAgLy/vvIgq6L+Z6YeM5Y+q5piv566A5Y2V55qE5a6e546w77yM5Zyo5ZCO56uv5oiR5Lus5Y+v5Lul6YCa6L+H55So5oi35ZCN5ZKM5a+G56CB5p+l6K+i5pWw5o2u5bqT77yM6I635b6XIHVzZXIg6KGo55qE5a6M5pW05L+h5oGv77yM5q+U5aaC55So5oi35pi156ew44CB55So5oi357qn5Yir562J77yM6L+U5Zue5YmN56uv77yM5bm25Lyg6YCS57uZIHVzZXIg5a+56LGh77yM5Lul5a6e546w5pu05aSN5p2C55qE5Yqf6IO977yJCiAgICAgICAgLy8gMy7ojrflj5bnmbvlvZXliY3pobXpnaLnmoTot6/lvoTlubbot7PovazvvIzlpoLmnpzor6Xot6/lvoTkuI3lrZjlnKjvvIzliJnot7PovazliLDpppbpobUKICAgICAgICBsb2dpbiAoKSB7CiAgICAgICAgICAgIC8vIOWJjeerr+a1i+ivleS7o+eggQogICAgICAgICAgICBsZXQgX3RoaXMgPSB0aGlzCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlKQogICAgICAgICAgICB0aGlzLiRheGlvcwogICAgICAgICAgICAgICAgLnBvc3QoJy9sb2dpbicsIHsKICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy5sb2dpbkZvcm0udXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHRoaXMubG9naW5Gb3JtLnBhc3N3b3JkCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLnRoZW4oc3VjY2Vzc1Jlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzc1Jlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhciBkYXRhID0gdGhpcy5sb2dpbkZvcm0KICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnbG9naW4nLCBfdGhpcy5sb2dpbkZvcm0pCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXRoID0gdGhpcy4kcm91dGUucXVlcnkucmVkaXJlY3QKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2Uoe3BhdGg6IHBhdGggPT09ICcvJyB8fCBwYXRoID09PSB1bmRlZmluZWQgPyAnL2luZGV4JyA6IHBhdGh9KQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZmFpbFJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <body id=\"poster\">\n        <el-form class=\"login-container\" label-position=\"left\"\n                 label-width=\"0px\">\n            <h3 class=\"login_title\">系统登录</h3>\n            <el-form-item>\n                <el-input type=\"text\" v-model=\"loginForm.username\"\n                          auto-complete=\"off\" placeholder=\"账号\"></el-input>\n            </el-form-item>\n            <el-form-item>\n                <el-input type=\"password\" v-model=\"loginForm.password\"\n                          auto-complete=\"off\" placeholder=\"密码\"></el-input>\n            </el-form-item>\n            <el-form-item style=\"width: 100%\">\n                <el-button type=\"primary\" style=\"width: 100%;background: #505458;border: none\" v-on:click=\"login\">登录</el-button>\n            </el-form-item>\n        </el-form>\n    </body>\n</template>\n\n<script>\n    export default {\n        name: \"Login\",\n        data () {\n            return {\n                loginForm: {\n                    username: '',\n                    password: ''\n                },\n                responseResult: []\n            }\n        },\n        methods: {\n            // 1.点击登录按钮，向后端发送数据\n            // 2.受到后端返回的成功代码时，触发 store 中的 login() 方法，把 loginForm 对象传递给 store 中的 user 对象\n            //（*这里只是简单的实现，在后端我们可以通过用户名和密码查询数据库，获得 user 表的完整信息，比如用户昵称、用户级别等，返回前端，并传递给 user 对象，以实现更复杂的功能）\n            // 3.获取登录前页面的路径并跳转，如果该路径不存在，则跳转到首页\n            login () {\n                // 前端测试代码\n                let _this = this\n                console.log(this.$store.state)\n                this.$axios\n                    .post('/login', {\n                        username: this.loginForm.username,\n                        password: this.loginForm.password\n                    })\n                    .then(successResponse => {\n                        if (successResponse.data.code === 200) {\n                            // var data = this.loginForm\n                            _this.$store.commit('login', _this.loginForm)\n                            let path = this.$route.query.redirect\n                            this.$router.replace({path: path === '/' || path === undefined ? '/index' : path})\n                        }\n                    })\n                    .catch(failResponse => {\n                    })\n            }\n        }\n    }\n</script>\n\n<style>\n    #poster {\n        background: url(\"../assets/fudanrm.png\") no-repeat center;\n        height: 100%;\n        width: 100%;\n        background-size: cover;\n        position: fixed;\n    }\n    body{\n        margin: 0px;\n    }\n    .login-container {\n        border-radius: 15px;\n        background-clip: padding-box;\n        margin: 250px auto;\n        width: 350px;\n        padding: 35px 35px 15px 35px;\n        background: #fff;\n        border: 1px solid #eaeaea;\n        box-shadow: 0 0 25px #cac6c6;\n    }\n\n    .login_title {\n        margin: 0px auto 40px auto;\n        text-align: center;\n        color: #505458;\n    }\n</style>"]}]}