{"remainingRequest":"/Users/lvkai/Projects/vueproject/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvkai/Projects/vueproject/src/components/Login.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/lvkai/Projects/vueproject/src/components/Login.vue","mtime":1593663821149},{"path":"/Users/lvkai/Projects/vueproject/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvkai/Projects/vueproject/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/lvkai/Projects/vueproject/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lvkai/Projects/vueproject/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvkai/Projects/vueproject/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiNwb3N0ZXIgewogICAgYmFja2dyb3VuZDogdXJsKCIuLi9hc3NldHMvZnVkYW5ybS5wbmciKSBuby1yZXBlYXQgY2VudGVyOwogICAgaGVpZ2h0OiAxMDAlOwogICAgd2lkdGg6IDEwMCU7CiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogICAgcG9zaXRpb246IGZpeGVkOwp9CmJvZHl7CiAgICBtYXJnaW46IDBweDsKfQoubG9naW4tY29udGFpbmVyIHsKICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgICBiYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94OwogICAgbWFyZ2luOiAyNTBweCBhdXRvOwogICAgd2lkdGg6IDM1MHB4OwogICAgcGFkZGluZzogMzVweCAzNXB4IDE1cHggMzVweDsKICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjZWFlYWVhOwogICAgYm94LXNoYWRvdzogMCAwIDI1cHggI2NhYzZjNjsKfQoKLmxvZ2luX3RpdGxlIHsKICAgIG1hcmdpbjogMHB4IGF1dG8gNDBweCBhdXRvOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgY29sb3I6ICM1MDU0NTg7Cn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <body id=\"poster\">\n        <el-form class=\"login-container\" label-position=\"left\"\n                 label-width=\"0px\">\n            <h3 class=\"login_title\">系统登录</h3>\n            <el-form-item>\n                <el-input type=\"text\" v-model=\"loginForm.username\"\n                          auto-complete=\"off\" placeholder=\"账号\"></el-input>\n            </el-form-item>\n            <el-form-item>\n                <el-input type=\"password\" v-model=\"loginForm.password\"\n                          auto-complete=\"off\" placeholder=\"密码\"></el-input>\n            </el-form-item>\n            <el-form-item style=\"width: 100%\">\n                <el-button type=\"primary\" style=\"width: 100%;background: #505458;border: none\" v-on:click=\"login\">登录</el-button>\n            </el-form-item>\n        </el-form>\n    </body>\n</template>\n\n<script>\n    export default {\n        name: \"Login\",\n        data () {\n            return {\n                loginForm: {\n                    username: '',\n                    password: ''\n                },\n                responseResult: []\n            }\n        },\n        methods: {\n            // 1.点击登录按钮，向后端发送数据\n            // 2.受到后端返回的成功代码时，触发 store 中的 login() 方法，把 loginForm 对象传递给 store 中的 user 对象\n            //（*这里只是简单的实现，在后端我们可以通过用户名和密码查询数据库，获得 user 表的完整信息，比如用户昵称、用户级别等，返回前端，并传递给 user 对象，以实现更复杂的功能）\n            // 3.获取登录前页面的路径并跳转，如果该路径不存在，则跳转到首页\n            login () {\n                let _this = this\n                console.log(this.$store.state)\n                this.$axios\n                    .post('/login', {\n                        username: this.loginForm.username,\n                        password: this.loginForm.password\n                    })\n                    .then(successResponse => {\n                        if (successResponse.data.code === 200) {\n                            // var data = this.loginForm\n                            _this.$store.commit('login', _this.loginForm)\n                            let path = this.$route.query.redirect\n                            this.$router.replace({path: path === '/' || path === undefined ? '/index' : path})\n                        }\n                    })\n                    .catch(failResponse => {\n                    })\n            }\n        }\n    }\n</script>\n\n<style>\n    #poster {\n        background: url(\"../assets/fudanrm.png\") no-repeat center;\n        height: 100%;\n        width: 100%;\n        background-size: cover;\n        position: fixed;\n    }\n    body{\n        margin: 0px;\n    }\n    .login-container {\n        border-radius: 15px;\n        background-clip: padding-box;\n        margin: 250px auto;\n        width: 350px;\n        padding: 35px 35px 15px 35px;\n        background: #fff;\n        border: 1px solid #eaeaea;\n        box-shadow: 0 0 25px #cac6c6;\n    }\n\n    .login_title {\n        margin: 0px auto 40px auto;\n        text-align: center;\n        color: #505458;\n    }\n</style>"]}]}