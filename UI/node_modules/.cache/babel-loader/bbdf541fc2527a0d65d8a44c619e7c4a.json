{"remainingRequest":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/babel-loader/lib/index.js!/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvkai/Documents/GitHub/FudanRM/UI/src/components/library/EditForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/src/components/library/EditForm.vue","mtime":1593687997473},{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvkai/Documents/GitHub/FudanRM/UI/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEltZ1VwbG9hZCBmcm9tICIuL0ltZ1VwbG9hZCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRWRpdEZvcm0nLAogIGNvbXBvbmVudHM6IHsKICAgIEltZ1VwbG9hZDogSW1nVXBsb2FkCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICBmb3JtOiB7CiAgICAgICAgaWQ6ICcnLAogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBhdXRob3I6ICcnLAogICAgICAgIGRhdGU6ICcnLAogICAgICAgIHByZXNzOiAnJywKICAgICAgICBjb3ZlcjogJycsCiAgICAgICAgYWJzOiAnJywKICAgICAgICBjYXRlZ29yeTogewogICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgbmFtZTogJycKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZvcm1MYWJlbFdpZHRoOiAnMTIwcHgnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgaWQ6ICcnLAogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBhdXRob3I6ICcnLAogICAgICAgIGRhdGU6ICcnLAogICAgICAgIHByZXNzOiAnJywKICAgICAgICBjb3ZlcjogJycsCiAgICAgICAgYWJzOiAnJywKICAgICAgICBjYXRlZ29yeTogJycKICAgICAgfTsKICAgIH0sCiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvcy5wb3N0KCcvYm9va3MnLCB7CiAgICAgICAgaWQ6IHRoaXMuZm9ybS5pZCwKICAgICAgICBjb3ZlcjogdGhpcy5mb3JtLmNvdmVyLAogICAgICAgIHRpdGxlOiB0aGlzLmZvcm0udGl0bGUsCiAgICAgICAgYXV0aG9yOiB0aGlzLmZvcm0uYXV0aG9yLAogICAgICAgIGRhdGU6IHRoaXMuZm9ybS5kYXRlLAogICAgICAgIHByZXNzOiB0aGlzLmZvcm0ucHJlc3MsCiAgICAgICAgYWJzOiB0aGlzLmZvcm0uYWJzLAogICAgICAgIGNhdGVnb3J5OiB0aGlzLmZvcm0uY2F0ZWdvcnkKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGlmIChyZXNwICYmIHJlc3Auc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIF90aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgX3RoaXMuJGVtaXQoJ29uU3VibWl0Jyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB1cGxvYWRJbWc6IGZ1bmN0aW9uIHVwbG9hZEltZygpIHsKICAgICAgdGhpcy5mb3JtLmNvdmVyID0gdGhpcy4kcmVmcy5pbWdVcGxvYWQudXJsOwogICAgfQogIH0KfTs="},{"version":3,"sources":["EditForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA,OAAA,SAAA,MAAA,aAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,SAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,iBAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,EAAA,EAAA,EADA;AAEA,QAAA,KAAA,EAAA,EAFA;AAGA,QAAA,MAAA,EAAA,EAHA;AAIA,QAAA,IAAA,EAAA,EAJA;AAKA,QAAA,KAAA,EAAA,EALA;AAMA,QAAA,KAAA,EAAA,EANA;AAOA,QAAA,GAAA,EAAA,EAPA;AAQA,QAAA,QAAA,EAAA;AACA,UAAA,EAAA,EAAA,EADA;AAEA,UAAA,IAAA,EAAA;AAFA;AARA,OAFA;AAeA,MAAA,cAAA,EAAA;AAfA,KAAA;AAiBA,GArBA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,WAAA,IAAA,GAAA;AACA,QAAA,EAAA,EAAA,EADA;AAEA,QAAA,KAAA,EAAA,EAFA;AAGA,QAAA,MAAA,EAAA,EAHA;AAIA,QAAA,IAAA,EAAA,EAJA;AAKA,QAAA,KAAA,EAAA,EALA;AAMA,QAAA,KAAA,EAAA,EANA;AAOA,QAAA,GAAA,EAAA,EAPA;AAQA,QAAA,QAAA,EAAA;AARA,OAAA;AAUA,KAZA;AAaA,IAAA,QAbA,sBAaA;AAAA;;AACA,WAAA,MAAA,CACA,IADA,CACA,QADA,EACA;AACA,QAAA,EAAA,EAAA,KAAA,IAAA,CAAA,EADA;AAEA,QAAA,KAAA,EAAA,KAAA,IAAA,CAAA,KAFA;AAGA,QAAA,KAAA,EAAA,KAAA,IAAA,CAAA,KAHA;AAIA,QAAA,MAAA,EAAA,KAAA,IAAA,CAAA,MAJA;AAKA,QAAA,IAAA,EAAA,KAAA,IAAA,CAAA,IALA;AAMA,QAAA,KAAA,EAAA,KAAA,IAAA,CAAA,KANA;AAOA,QAAA,GAAA,EAAA,KAAA,IAAA,CAAA,GAPA;AAQA,QAAA,QAAA,EAAA,KAAA,IAAA,CAAA;AARA,OADA,EAUA,IAVA,CAUA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,IAAA,IAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,iBAAA,GAAA,KAAA;;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,UAAA;AACA;AACA,OAfA;AAgBA,KA9BA;AA+BA,IAAA,SA/BA,uBA+BA;AACA,WAAA,IAAA,CAAA,KAAA,GAAA,KAAA,KAAA,CAAA,SAAA,CAAA,GAAA;AACA;AAjCA;AAtBA,CAAA","sourcesContent":["<template>\n    <div>\n        <i class=\"el-icon-circle-plus-outline\"  @click=\"dialogFormVisible = true\"></i>\n        <el-dialog\n                title=\"添加/修改图书\"\n                :visible.sync=\"dialogFormVisible\"\n                @close=\"clear\">\n            <el-form v-model=\"form\" style=\"text-align: left\" ref=\"dataForm\">\n                <el-form-item label=\"书名\" :label-width=\"formLabelWidth\" prop=\"title\">\n                    <el-input v-model=\"form.title\" autocomplete=\"off\" placeholder=\"不加《》\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"作者\" :label-width=\"formLabelWidth\" prop=\"author\">\n                    <el-input v-model=\"form.author\" autocomplete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"出版日期\" :label-width=\"formLabelWidth\" prop=\"date\">\n                    <el-input v-model=\"form.date\" autocomplete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"出版社\" :label-width=\"formLabelWidth\" prop=\"press\">\n                    <el-input v-model=\"form.press\" autocomplete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"封面\" :label-width=\"formLabelWidth\" prop=\"cover\">\n                    <el-input v-model=\"form.cover\" autocomplete=\"off\" placeholder=\"图片 URL\"></el-input>\n                    <img-upload @onUpload=\"uploadImg\" ref=\"imgUpload\"></img-upload>\n                </el-form-item>\n                <el-form-item label=\"简介\" :label-width=\"formLabelWidth\" prop=\"abs\">\n                    <el-input type=\"textarea\" v-model=\"form.abs\" autocomplete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"分类\" :label-width=\"formLabelWidth\" prop=\"cid\">\n                    <el-select v-model=\"form.category.id\" placeholder=\"请选择分类\">\n                        <el-option label=\"文学\" value=\"1\"></el-option>\n                        <el-option label=\"流行\" value=\"2\"></el-option>\n                        <el-option label=\"文化\" value=\"3\"></el-option>\n                        <el-option label=\"生活\" value=\"4\"></el-option>\n                        <el-option label=\"经管\" value=\"5\"></el-option>\n                        <el-option label=\"科技\" value=\"6\"></el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item prop=\"id\" style=\"height: 0\">\n                    <el-input type=\"hidden\" v-model=\"form.id\" autocomplete=\"off\"></el-input>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"onSubmit\">确 定</el-button>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    import ImgUpload from \"./ImgUpload\"\n    export default {\n        name: 'EditForm',\n        components: {ImgUpload},\n        data () {\n            return {\n                dialogFormVisible: false,\n                form: {\n                    id: '',\n                    title: '',\n                    author: '',\n                    date: '',\n                    press: '',\n                    cover: '',\n                    abs: '',\n                    category: {\n                        id: '',\n                        name: ''\n                    }\n                },\n                formLabelWidth: '120px'\n            }\n        },\n        methods: {\n            clear () {\n                this.form = {\n                    id: '',\n                    title: '',\n                    author: '',\n                    date: '',\n                    press: '',\n                    cover: '',\n                    abs: '',\n                    category: ''\n                }\n            },\n            onSubmit () {\n                this.$axios\n                    .post('/books', {\n                        id: this.form.id,\n                        cover: this.form.cover,\n                        title: this.form.title,\n                        author: this.form.author,\n                        date: this.form.date,\n                        press: this.form.press,\n                        abs: this.form.abs,\n                        category: this.form.category\n                    }).then(resp => {\n                    if (resp && resp.status === 200) {\n                        this.dialogFormVisible = false\n                        this.$emit('onSubmit')\n                    }\n                })\n            },\n            uploadImg () {\n                this.form.cover = this.$refs.imgUpload.url\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .el-icon-circle-plus-outline {\n        margin: 50px 0 0 20px;\n        font-size: 100px;\n        float: left;\n        cursor: pointer;\n    }\n</style>\n\n\n\n"],"sourceRoot":"src/components/library"}]}